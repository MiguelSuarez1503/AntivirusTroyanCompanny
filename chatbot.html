<!-- Chatbot CSS -->
<style>
  #chat-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    font-size: 24px;
    cursor: pointer;
    z-index: 9999;
  }

  #chat-container {
    display: none;
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 300px;
    max-height: 400px;
    border: 1px solid #ccc;
    background: white;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 9999;
    flex-direction: column;
    font-family: sans-serif;
  }

  #chat-messages {
    padding: 10px;
    height: 300px;
    overflow-y: auto;
    font-size: 14px;
  }

  #chat-input {
    display: flex;
    border-top: 1px solid #ddd;
  }

  #chat-input input {
    flex: 1;
    border: none;
    padding: 10px;
    outline: none;
  }

  #chat-input button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 15px;
    cursor: pointer;
  }

  .user-msg { text-align: right; margin: 5px 0; }
  .bot-msg { text-align: left; margin: 5px 0; }
</style>

<!-- Chatbot HTML -->
<div id="chat-container">
  <div id="chat-messages"></div>
  <div id="chat-input">
    <input type="text" id="user-input" placeholder="Escribe algo..." />
    <button onclick="sendChat()">âž¤</button>
  </div>
</div>

<button id="chat-button" onclick="toggleChat()">ðŸ’¬</button>

<!-- Chatbot JS -->
<script>
  function toggleChat() {
    const chat = document.getElementById("chat-container");
    chat.style.display = (chat.style.display === "none" || chat.style.display === "") ? "flex" : "none";
  }

  function sendChat() {
    const input = document.getElementById("user-input");
    const msg = input.value.trim();
    if (!msg) return;
    appendMessage(msg, 'user');

    const response = getBotResponse(msg);
    setTimeout(() => appendMessage(response, 'bot'), 500);
    input.value = '';
  }

  function appendMessage(text, sender) {
    const chat = document.getElementById("chat-messages");
    const div = document.createElement("div");
    div.className = sender === 'user' ? 'user-msg' : 'bot-msg';
    div.textContent = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
  }

  function getBotResponse(input) {
    input = input.toLowerCase();
    if (input.includes("hola")) return "Â¡Hola! Â¿En quÃ© puedo ayudarte?";
    if (input.includes("descargar")) return "Puedes descargar el antivirus desde la secciÃ³n 'Descargas'.";
    if (input.includes("gracias")) return "Â¡De nada! ðŸ˜Š";
    if (input.includes("problema") || input.includes("error")) return "Lo siento, por favor describe el problema y te ayudarÃ©.";
    return "Lo siento, no entendÃ­ eso. Â¿Puedes repetirlo?";
  }
</script>
